<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Ozow Test</title>
</head>
<body>
  <div id="paymentContainer"></div>

  <label class="inline-flex items-center gap-2">
    <input type="radio" id="payUsingOzow" value="Ozow"> Pay with Ozow
  </label>
  <button id="cancelOzowPayment">Cancel</button>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://static-content.ozow.com/scripts/js/v2/ozow-integration-2.0.min.js"></script>
  <script>
    $(function () {
      const ozow = new Ozow();
      const paymentUrl = 'https://pay.ozow.com/';
      const postData = {
        SiteCode: "ALG-ALG-003",
        CountryCode: "ZA",
        CurrencyCode: "ZAR",
        Amount: "45.00",
        TransactionReference: "Test-" + Date.now(),
        SuccessUrl: location.origin + "/pay/success.html",
        ErrorUrl:   location.origin + "/pay/error.html",
        CancelUrl:  location.origin + "/pay/cancel.html",
        IsTest: true
      };

      $('#payUsingOzow').on('click', () =>
        ozow.createPaymentFrame('paymentContainer', paymentUrl, postData));

      $('#cancelOzowPayment').on('click', () =>
        ozow.cancelFramePayment());
    });
  </script>
</body>
</html>
