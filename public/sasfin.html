<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AlgoHive Institutional – Sasfin Dashboard</title>
  <script src="https://cdn.tailwindcss.com" nonce="ALGOHIVE"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" nonce="ALGOHIVE"></script>
  <style>
    :root {
      --ink: #0f172a;
      --muted: #6b7280;
      --panel: #ffffff;
      --back: #f6f8fb;
      --line: #e5e7eb;
      --accent: #0d6efd;
      --accent-soft: #e8f1ff;
    }
    * { box-sizing: border-box; }
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background: var(--back); color: var(--ink); }
    .card {
      background: var(--panel);
      border: 1px solid #e5e7eb;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.06);
    }
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .5rem;
      height: 40px;
      padding: 0 .875rem;
      border-radius: 10px;
      border: 1px solid var(--line);
      font-weight: 600;
    }
    .muted { color: var(--muted); }
    .gradient-bar {
      background: linear-gradient(90deg, #e8f1ff 0%, #cfe4ff 40%, #b2d6ff 80%);
    }
    .sparkline {
      background: linear-gradient(180deg, rgba(13,110,253,0.15), rgba(13,110,253,0));
      position: relative;
      overflow: hidden;
    }
    .sparkline::after {
      content: "";
      position: absolute;
      inset: 16% 8% 10% 6%;
      background: url('data:image/svg+xml,%3Csvg width="300" height="100" viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg"%3E%3Cpolyline fill="none" stroke="%230d6efd" stroke-width="3" points="0,70 40,60 80,62 120,40 160,30 200,32 240,20 280,25 300,18"/%3E%3C/svg%3E');
      background-size: cover;
      opacity: 0.95;
    }
    .heatmap {
      display: grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap: 6px;
    }
    .heatmap div {
      border-radius: 8px;
      height: 32px;
      background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
    }
    .heatmap div:nth-child(3n) { background: linear-gradient(135deg, #dbeafe, #bfdbfe); }
    .donut {
      background: conic-gradient(#0d6efd 0deg 260deg, #e5e7eb 260deg 360deg);
      width: 150px;
      height: 150px;
      border-radius: 50%;
      position: relative;
      margin: auto;
    }
    .donut::after {
      content: "72%";
      position: absolute;
      inset: 24px;
      border-radius: 50%;
      background: #fff;
      display: grid;
      place-items: center;
      font-weight: 700;
      color: var(--ink);
      box-shadow: inset 0 0 0 1px #e5e7eb;
    }
    /* Layout + sidebar (match home.html behavior) */
    #layout {
      --sb: 240px;
      display: grid;
      grid-template-columns: 1fr;
      min-height: 100vh;
    }
    #ah-sidebar {
      transition: transform .3s ease, width .2s ease;
      width: 280px;
      max-width: 85vw;
      position: fixed;
      z-index: 50;
      height: 100vh;
      transform: translateX(-100%);
    }
    #ah-sidebar.is-open { transform: translateX(0); }
    @media (min-width: 768px) {
      #layout { grid-template-columns: var(--sb) 1fr; }
      #layout.is-collapsed { --sb: 72px; }
      #ah-sidebar {
        position: sticky;
        width: var(--sb);
        max-width: none;
        transform: translateX(0);
        z-index: auto;
      }
    }
    #ah-sidebar[data-collapsed="true"] .label,
    #ah-sidebar[data-collapsed="true"] .chevron { display: none; }
    #ah-sidebar[data-collapsed="true"] nav a,
    #ah-sidebar[data-collapsed="true"] details>summary { justify-content: center; gap: .25rem; }
    #ah-sidebar[data-collapsed="true"] details>.sub { display: none !important; }
    #ah-collapse { display: none; }
    @media (min-width: 768px) { #ah-collapse { display: inline-flex; } }
  </style>
</head>
<body class="min-h-screen">
  <div id="layout">
    <div id="ah-overlay" class="fixed inset-0 bg-black/40 z-40 hidden md:hidden"></div>
    <aside id="ah-sidebar" data-collapsed="false" class="border-r border-slate-200 h-[100vh] bg-white flex flex-col overflow-hidden">
      <div class="px-4 py-4 flex items-center gap-3 border-b border-slate-200">
        <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 80'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop stop-color='%230d6efd' offset='0'/><stop stop-color='%23256dff' offset='1'/></linearGradient></defs><rect width='80' height='80' rx='16' fill='url(%23g)'/><text x='40' y='46' text-anchor='middle' font-size='24' font-family='Inter,Arial' fill='white' font-weight='700'>S</text></svg>" alt="Sasfin" class="w-10 h-10 object-cover rounded-lg shadow" />
        <div class="min-w-0 label">
          <div class="font-bold text-[15px] text-slate-900">AlgoHive · Sasfin</div>
          <div class="text-[11px] text-slate-500">Institutional Desk</div>
        </div>
      </div>
      <nav class="p-2 text-[14px] flex-1 overflow-y-auto">
        <p class="px-3 pt-1 pb-2 text-[11px] uppercase tracking-[0.18em] text-slate-400 font-semibold label">Overview</p>
        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50 font-medium text-slate-900" href="#dashboard">
          <i class="fa-solid fa-gauge text-slate-500 w-4 shrink-0"></i><span class="label">Dashboard</span>
        </a>
        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50 font-medium text-slate-900" href="#portfolio">
          <i class="fa-regular fa-user text-slate-500 w-4 shrink-0"></i><span class="label">Portfolio</span>
        </a>
        <p class="px-3 pt-4 pb-2 text-[11px] uppercase tracking-[0.18em] text-slate-400 font-semibold label">Mandates & Deals</p>
        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50 font-medium text-slate-900" href="#mandates">
          <i class="fa-solid fa-shield-halved text-slate-500 w-4 shrink-0"></i><span class="label">Mandates</span>
        </a>
        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50 font-medium text-slate-900" href="#strategies">
          <i class="fa-solid fa-chart-line text-slate-500 w-4 shrink-0"></i><span class="label">Strategies</span>
        </a>
        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50 font-medium text-slate-900" href="#transactions">
          <i class="fa-solid fa-money-check-dollar text-slate-500 w-4 shrink-0"></i><span class="label">Transactions</span>
        </a>
        <p class="px-3 pt-4 pb-2 text-[11px] uppercase tracking-[0.18em] text-slate-400 font-semibold label">Clients & Risk</p>
        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50 font-medium text-slate-900" href="#clients">
          <i class="fa-solid fa-users text-slate-500 w-4 shrink-0"></i><span class="label">Clients</span>
        </a>
        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50 font-medium text-slate-900" href="#compliance">
          <i class="fa-solid fa-scale-balanced text-slate-500 w-4 shrink-0"></i><span class="label">Compliance</span>
        </a>
        <p class="px-3 pt-4 pb-2 text-[11px] uppercase tracking-[0.18em] text-slate-400 font-semibold label">Ops</p>
        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50 font-medium text-slate-900" href="#reports">
          <i class="fa-solid fa-file-lines text-slate-500 w-4 shrink-0"></i><span class="label">Reports</span>
        </a>
        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50 font-medium text-slate-900" href="#settings">
          <i class="fa-solid fa-gear text-slate-500 w-4 shrink-0"></i><span class="label">Settings</span>
        </a>
        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50 font-medium text-slate-900" href="#support">
          <i class="fa-solid fa-life-ring text-slate-500 w-4 shrink-0"></i><span class="label">Support</span>
        </a>
      </nav>
      <div class="p-3 border-t border-slate-200 footer flex items-center justify-between gap-2">
        <span class="label text-xs text-slate-500 leading-relaxed">Built for Sasfin’s institutional workspace.</span>
        <button id="ah-collapse" class="btn btn-collapse h-10 w-10 p-0 rounded-xl bg-slate-100 hover:bg-slate-200 border border-slate-200" title="Collapse">
          <i class="fa-solid fa-arrow-left text-slate-600"></i>
        </button>
      </div>
    </aside>

    <main class="flex-1 min-w-0">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-white sticky top-0 z-30">
        <div class="flex items-center gap-3 flex-1 min-w-0">
          <button id="ah-mobile-menu-btn" class="md:hidden btn h-10 w-10 p-0 rounded-xl border border-slate-200 bg-white" title="Open Menu">
            <i class="fa-solid fa-bars"></i>
          </button>
          <div>
            <p class="text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold">Dashboard</p>
            <h1 class="text-xl md:text-2xl font-semibold text-slate-900">AlgoHive Institutional · Sasfin Edition</h1>
          </div>
        </div>
        <div class="hidden md:flex items-center gap-4 text-sm font-medium">
          <span class="px-3 py-1 rounded-full bg-white border border-slate-200 text-slate-700">Live trading</span>
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full bg-white border border-slate-200 flex items-center justify-center text-slate-600 font-semibold">AH</div>
            <div>
              <div class="text-slate-900">Institutional Desk</div>
              <div class="text-xs text-slate-500">AlgoHive Ops</div>
            </div>
          </div>
        </div>
      </div>

      <section class="p-6 space-y-6" id="dashboard">
      <div class="grid grid-cols-1 xl:grid-cols-4 gap-4">
        <div class="xl:col-span-3 card p-6">
          <div class="flex items-start justify-between">
            <div>
              <p class="text-sm uppercase tracking-[0.18em] text-slate-500 font-semibold">Total Value</p>
              <h2 class="text-3xl md:text-4xl font-semibold text-slate-900 mt-2">$1,234,282,176</h2>
              <p class="text-sm text-green-600 font-semibold mt-1">+$1.03m today</p>
            </div>
            <div class="text-right">
              <p class="text-sm uppercase tracking-[0.18em] text-slate-500 font-semibold">Profit / Loss</p>
              <h3 class="text-2xl font-semibold text-slate-900 mt-2">$2,156,890</h3>
              <p class="text-xs text-green-600 font-semibold mt-1">17.8% annualized</p>
            </div>
          </div>
          <div class="mt-6 grid grid-cols-1 lg:grid-cols-3 gap-4 items-start">
            <div class="lg:col-span-2 h-64">
              <canvas id="equity-chart"></canvas>
            </div>
            <div class="grid grid-cols-1 gap-3 text-xs text-slate-600">
              <div class="card p-3 border border-slate-100 shadow-none bg-white">
                <p class="text-slate-500 text-[11px] uppercase tracking-[0.18em]">Risk & Exposure</p>
                <p class="text-base font-semibold text-slate-900">$23,378,220</p>
                <p class="text-green-600 font-semibold text-[12px]">-0.50%</p>
              </div>
              <div class="card p-3 border border-slate-100 shadow-none bg-white">
                <p class="text-slate-500 text-[11px] uppercase tracking-[0.18em]">Available Cash</p>
                <p class="text-base font-semibold text-slate-900">$43,671.00</p>
                <p class="text-green-600 font-semibold text-[12px]">+3.25%</p>
              </div>
              <div class="card p-3 border border-slate-100 shadow-none bg-white">
                <p class="text-slate-500 text-[11px] uppercase tracking-[0.18em]">Credit Lines</p>
                <p class="text-base font-semibold text-slate-900">$2,156,890</p>
                <p class="text-green-600 font-semibold text-[12px]">+11.50%</p>
              </div>
            </div>
          </div>
        </div>
        <div class="card p-5 flex flex-col gap-4">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold">Notifications</p>
              <h3 class="text-lg font-semibold text-slate-900">Audit & Activity</h3>
            </div>
            <span class="px-2 py-1 text-xs rounded-full bg-emerald-50 text-emerald-700 font-semibold">Live</span>
          </div>
          <div class="space-y-3 text-sm text-slate-700">
            <div class="flex items-start gap-3">
              <span class="mt-1 h-2 w-2 rounded-full bg-blue-500"></span>
              <div>
                <p class="font-semibold text-slate-900">Mandate update ready</p>
                <p class="text-slate-600">AlgoHive desk published a mandate note for Sasfin credit.</p>
              </div>
            </div>
            <div class="flex items-start gap-3">
              <span class="mt-1 h-2 w-2 rounded-full bg-emerald-500"></span>
              <div>
                <p class="font-semibold text-slate-900">Audit log clean</p>
                <p class="text-slate-600">No anomalies in the last 24h transaction monitor.</p>
              </div>
            </div>
            <div class="flex items-start gap-3">
              <span class="mt-1 h-2 w-2 rounded-full bg-amber-500"></span>
              <div>
                <p class="font-semibold text-slate-900">Rebalance window</p>
                <p class="text-slate-600">Portfolio drift approaching tolerance. View-only alerts enabled.</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 xl:grid-cols-3 gap-4">
        <div class="card p-5 space-y-4">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold">HFT System Health</p>
              <h3 class="text-lg font-semibold text-slate-900">Latency <span class="text-emerald-600">0.235 ms</span></h3>
            </div>
            <span class="text-xs text-emerald-600 font-semibold">0.0001% error</span>
          </div>
          <div class="h-40">
            <canvas id="latency-chart"></canvas>
          </div>
          <div class="flex items-center justify-between text-sm text-slate-700">
            <span>Success rate</span>
            <span class="font-semibold text-emerald-600">100%</span>
          </div>
        </div>
        <div class="card p-5 space-y-5">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold">Risk Sentinel</p>
              <h3 class="text-lg font-semibold text-slate-900">Sector Exposure</h3>
            </div>
            <span class="text-xs font-semibold text-amber-600">72 pts</span>
          </div>
          <div class="grid grid-cols-2 gap-4 items-center">
            <div class="h-48">
              <canvas id="sector-chart"></canvas>
            </div>
            <div class="space-y-3 text-sm">
              <div class="flex items-center justify-between"><span class="text-slate-600">Tech</span><span class="font-semibold text-slate-900">34%</span></div>
              <div class="flex items-center justify-between"><span class="text-slate-600">Financials</span><span class="font-semibold text-slate-900">24%</span></div>
              <div class="flex items-center justify-between"><span class="text-slate-600">Energy</span><span class="font-semibold text-slate-900">18%</span></div>
              <div class="flex items-center justify-between"><span class="text-slate-600">Healthcare</span><span class="font-semibold text-slate-900">12%</span></div>
              <div class="flex items-center justify-between"><span class="text-slate-600">Other</span><span class="font-semibold text-slate-900">12%</span></div>
            </div>
          </div>
        </div>
        <div class="card p-5 space-y-4">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold">Monthly Returns</p>
              <h3 class="text-lg font-semibold text-slate-900">Last 6 periods</h3>
            </div>
            <span class="text-xs text-emerald-600 font-semibold">+14.2% YTD</span>
          </div>
          <div class="h-48">
            <canvas id="returns-chart"></canvas>
          </div>
        </div>
        <div class="card p-5 space-y-4">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold">Top Strategies</p>
              <h3 class="text-lg font-semibold text-slate-900">Live allocations</h3>
            </div>
            <span class="text-xs text-emerald-600 font-semibold">+12% YoY</span>
          </div>
          <div class="space-y-3 text-sm text-slate-800">
            <div class="flex items-center justify-between">
              <div>
                <p class="font-semibold">Momentum FX</p>
                <p class="text-slate-500 text-xs">T0 intraday · EURUSD</p>
              </div>
              <span class="px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 text-xs">+9.4%</span>
            </div>
            <div class="flex items-center justify-between">
              <div>
                <p class="font-semibold">Volatility Harvest</p>
                <p class="text-slate-500 text-xs">Options · Delta neutral</p>
              </div>
              <span class="px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 text-xs">+6.1%</span>
            </div>
            <div class="flex items-center justify-between">
              <div>
                <p class="font-semibold">Macro Overlay</p>
                <p class="text-slate-500 text-xs">Multi-asset · Global</p>
              </div>
              <span class="px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 text-xs">+4.3%</span>
            </div>
            <div class="flex items-center justify-between">
              <div>
                <p class="font-semibold">Credit Carry</p>
                <p class="text-slate-500 text-xs">Corp bonds · IG</p>
              </div>
              <span class="px-2 py-1 rounded-full bg-amber-50 text-amber-700 text-xs">-1.2%</span>
            </div>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 xl:grid-cols-3 gap-4">
        <div class="card p-5 space-y-4">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold">Live Trading Snapshot</p>
              <h3 class="text-lg font-semibold text-slate-900">Order blotter</h3>
            </div>
            <span class="text-xs text-emerald-600 font-semibold">+3.65%</span>
          </div>
          <div class="space-y-3 text-sm text-slate-800">
            <div class="flex items-center justify-between">
              <span class="text-slate-600">EURUSD</span>
              <span class="font-semibold text-emerald-600">⬆ 1.0654</span>
              <span class="text-xs text-slate-500">+0.43%</span>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-slate-600">SPX</span>
              <span class="font-semibold text-emerald-600">⬆ 4,936</span>
              <span class="text-xs text-slate-500">+0.38%</span>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-slate-600">CL Futures</span>
              <span class="font-semibold text-emerald-600">⬆ 84.12</span>
              <span class="text-xs text-slate-500">+1.12%</span>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-slate-600">USDZAR</span>
              <span class="font-semibold text-amber-600">⬇ 18.44</span>
              <span class="text-xs text-slate-500">-0.22%</span>
            </div>
          </div>
        </div>
        <div class="card p-5 space-y-4">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold">Market Insights</p>
              <h3 class="text-lg font-semibold text-slate-900">AI Assisted</h3>
            </div>
            <span class="text-xs text-blue-600 font-semibold">Updated</span>
          </div>
          <ul class="space-y-3 text-sm text-slate-800">
            <li class="flex items-start gap-3">
              <span class="mt-1 h-2 w-2 rounded-full bg-blue-500"></span>
              <p><strong>Energy rotation:</strong> Crude supply tightness boosting backwardation; carry strategy outperforming.</p>
            </li>
            <li class="flex items-start gap-3">
              <span class="mt-1 h-2 w-2 rounded-full bg-emerald-500"></span>
              <p><strong>Rates:</strong> Front-end vols compressing; macro overlay trimming duration.</p>
            </li>
            <li class="flex items-start gap-3">
              <span class="mt-1 h-2 w-2 rounded-full bg-amber-500"></span>
              <p><strong>FX:</strong> USD softness persists; Momentum FX increasing EUR exposure within limits.</p>
            </li>
          </ul>
        </div>
        <div class="card p-5 space-y-4">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold">Economic Calendar</p>
              <h3 class="text-lg font-semibold text-slate-900">GMT+2</h3>
            </div>
            <span class="text-xs text-slate-500">Today</span>
          </div>
          <div class="space-y-3 text-sm text-slate-800">
            <div class="flex items-center justify-between">
              <div>
                <p class="font-semibold">ECB Decision</p>
                <p class="text-xs text-slate-500">13:30 · Press conference</p>
              </div>
              <span class="px-2 py-1 rounded-full bg-amber-50 text-amber-700 text-xs">High</span>
            </div>
            <div class="flex items-center justify-between">
              <div>
                <p class="font-semibold">US CPI</p>
                <p class="text-xs text-slate-500">15:00 · Inflation print</p>
              </div>
              <span class="px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 text-xs">On track</span>
            </div>
            <div class="flex items-center justify-between">
              <div>
                <p class="font-semibold">SARB Briefing</p>
                <p class="text-xs text-slate-500">17:30 · Local rates</p>
              </div>
              <span class="px-2 py-1 rounded-full bg-blue-50 text-blue-700 text-xs">Watch</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  </div>

  <script nonce="ALGOHIVE">
    (() => {
      const primary = '#0d6efd';
      const muted = 'rgba(15,23,42,0.12)';

      const equityEl = document.getElementById('equity-chart');
      if (equityEl) {
        const ctx = equityEl.getContext('2d');
        const gradient = ctx.createLinearGradient(0, 0, 0, 240);
        gradient.addColorStop(0, 'rgba(13,110,253,0.35)');
        gradient.addColorStop(1, 'rgba(13,110,253,0.05)');
        new Chart(ctx, {
          type: 'line',
          data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
            datasets: [{
              data: [120, 128, 131, 127, 135, 142, 138, 146, 152, 155],
              borderColor: primary,
              backgroundColor: gradient,
              tension: 0.35,
              borderWidth: 2,
              pointRadius: 0,
              fill: true
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false }, tooltip: { displayColors: false } },
            scales: {
              x: { display: false },
              y: { display: true, grid: { color: muted, borderDash: [4, 4] }, ticks: { color: '#94a3b8', maxTicksLimit: 4 } }
            }
          }
        });
      }

      const latencyEl = document.getElementById('latency-chart');
      if (latencyEl) {
        new Chart(latencyEl.getContext('2d'), {
          type: 'line',
          data: {
            labels: Array.from({ length: 18 }, (_, i) => `t${i + 1}`),
            datasets: [{
              data: [0.29, 0.3, 0.28, 0.27, 0.26, 0.24, 0.23, 0.25, 0.24, 0.235, 0.24, 0.238, 0.237, 0.236, 0.235, 0.234, 0.236, 0.235],
              borderColor: '#10b981',
              backgroundColor: 'rgba(16,185,129,0.12)',
              tension: 0.3,
              borderWidth: 2,
              fill: true,
              pointRadius: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false }, tooltip: { displayColors: false } },
            scales: {
              x: { display: false },
              y: { display: true, grid: { color: muted }, ticks: { color: '#94a3b8', maxTicksLimit: 4 } }
            }
          }
        });
      }

      const sectorEl = document.getElementById('sector-chart');
      if (sectorEl) {
        new Chart(sectorEl.getContext('2d'), {
          type: 'doughnut',
          data: {
            labels: ['Tech', 'Financials', 'Energy', 'Healthcare', 'Other'],
            datasets: [{
              data: [34, 24, 18, 12, 12],
              backgroundColor: [primary, '#10b981', '#f59e0b', '#6366f1', '#94a3b8'],
              borderWidth: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: '68%',
            plugins: {
              legend: { position: 'bottom', labels: { boxWidth: 12, color: '#475569' } },
              tooltip: { displayColors: true }
            }
          }
        });
      }

      const returnsEl = document.getElementById('returns-chart');
      if (returnsEl) {
        new Chart(returnsEl.getContext('2d'), {
          type: 'bar',
          data: {
            labels: ['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan'],
            datasets: [{
              data: [2.1, 1.6, -0.8, 3.4, 2.9, 5.0],
              backgroundColor: ctx => ctx.raw >= 0 ? primary : '#f97316',
              borderRadius: 8,
              borderSkipped: false
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false }, tooltip: { callbacks: { label: c => `${c.raw.toFixed(1)}%` } } },
            scales: {
              x: { grid: { display: false }, ticks: { color: '#94a3b8', font: { size: 11 } } },
              y: { grid: { color: muted, borderDash: [4, 4] }, ticks: { color: '#94a3b8', callback: v => `${v}%`, maxTicksLimit: 5 } }
            }
          }
        });
      }
    })();
  </script>

  <script nonce="ALGOHIVE">
    (function () {
      const btn = document.getElementById('ah-mobile-menu-btn');
      const overlay = document.getElementById('ah-overlay');
      const sidebar = document.getElementById('ah-sidebar');

      function openMenu() {
        sidebar.classList.add('is-open');
        overlay.classList.remove('hidden');
      }
      function closeMenu() {
        sidebar.classList.remove('is-open');
        overlay.classList.add('hidden');
      }

      btn?.addEventListener('click', openMenu);
      overlay?.addEventListener('click', closeMenu);
      sidebar?.querySelectorAll('nav a').forEach(link => link.addEventListener('click', closeMenu));
    })();
  </script>

  <script nonce="ALGOHIVE">
    (function () {
      const layout = document.getElementById('layout');
      const aside = document.getElementById('ah-sidebar');
      const btn = document.getElementById('ah-collapse');
      const saved = localStorage.getItem('ah_sasfin_collapsed') === 'true';
      if (saved) { aside.setAttribute('data-collapsed', 'true'); layout.classList.add('is-collapsed'); }
      btn?.addEventListener('click', () => {
        const isCollapsed = aside.getAttribute('data-collapsed') === 'true';
        aside.setAttribute('data-collapsed', String(!isCollapsed));
        layout.classList.toggle('is-collapsed', !isCollapsed);
        localStorage.setItem('ah_sasfin_collapsed', String(!isCollapsed));
        layout.offsetHeight; window.dispatchEvent(new Event('resize'));
      });
    })();
  </script>
</body>
</html>
