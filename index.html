<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AlgoHive — Where Smart Capital Gathers</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    /* === Custom Color Palette & Global Styles === */
    :root {
      --olive: #6B7C4B; /* A richer, more sophisticated olive */
      --olive-700: #4A5633;
      --ink: #1F2937; /* Darker, more grounded text color */
      --muted: #6B7280; /* A soft, neutral gray for secondary text */
      --background-light: #F9FAFB; /* Off-white for a softer background */
      --card-background: rgba(255, 255, 255, 0.7); /* Slightly transparent white */
      --border-color: rgba(0, 0, 0, 0.08); /* Lighter, more subtle borders */
    }
    html, body {
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu;
      background: var(--background-light);
      color: var(--ink);
    }

    /* === Hero entrance animations + highlight === */
    .hero-right { animation: heroScaleIn .9s cubic-bezier(.2,.8,.2,1) .05s both; }
    .hero-left { animation: heroSlideUp .7s ease-out 1.0s both; } /* starts after image settles */
    @keyframes heroScaleIn {
      0% { transform: scale(1.12); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    @keyframes heroSlideUp {
      0% { transform: translateY(12px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }

    /* subtle highlight sweep */
    .highlight {
      background-image: linear-gradient(0deg, var(--olive), var(--olive));
      background-size: 0% 100%;
      background-repeat: no-repeat;
      border-radius: .25rem;
      padding: 0 .2em;
      animation: sweep 1.2s ease-out 1.3s forwards; /* after text appears */
    }
    @keyframes sweep { to { background-size: 100% 100%; } }

    /* === Component Styles === */
    .grid-bg {
      background-image: radial-gradient(rgba(107, 124, 75, 0.05) 1px, transparent 1px);
      background-size: 20px 20px;
      background-position: -10px -10px;
    }
    .btn-shine {
      position: relative;
      overflow: hidden;
    }
    .btn-shine:before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, transparent 0%, rgba(255, 255, 255, .7) 50%, transparent 100%);
      transform: translateX(-120%);
    }
    .btn-shine:hover:before {
      transform: translateX(120%);
      transition: transform .8s ease;
    }
    .glass {
      position: relative;
      background: var(--card-background);
      border: 1px solid var(--border-color);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .glass:before {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background: linear-gradient(180deg, rgba(255, 255, 255, .2), rgba(255, 255, 255, 0));
      border-radius: inherit;
      opacity: .8;
    }
    .metric-card {
      transition: transform .25s ease, background-color .25s ease, color .25s ease, box-shadow .25s ease, border-color .25s ease;
      will-change: transform;
    }
    .metric-card:hover {
      transform: translateY(-2px) scale(1.03);
    }
    .tv-ticker .tradingview-widget-container__widget { height: 56px !important; }
    .tv-ticker .tradingview-widget-copyright { display: none; }
    @media (max-width: 640px) { .tv-ticker .tradingview-widget-container__widget { height: 52px !important; } }
    @keyframes swapIn { from { opacity: 0; transform: translateY(8px) scale(.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
    .swap-in { animation: swapIn .45s cubic-bezier(.2,.8,.2,1) both; }
    .tag-active { background: var(--olive); color: #fff; border-color: transparent; }
    .prd-active { background: var(--olive); color: #fff; }
  </style>
</head>
<body class="grid-bg">

    <section class="relative min-h-[100svh] flex py-16">
    <div class="pointer-events-none absolute inset-0 -top-20 -z-10 bg-[radial-gradient(ellipse_at_center,rgba(107,124,75,0.1),transparent_70%)] opacity-70"></div>

    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex-1 flex flex-col">
            <div class="pt-6 pb-4 flex justify-center sticky top-4 z-50">
        <nav aria-label="Primary" class="w-full max-w-5xl inline-flex items-center justify-between gap-2 rounded-full border border-[var(--border-color)] bg-white/80 backdrop-blur-md px-3 py-2 shadow-lg">
                    <div class="flex items-center gap-1 sm:gap-2">
            <a href="/" class="flex items-center gap-2 rounded-full px-2 py-1.5 hover:bg-black/5 transition-colors">
              <img src="https://static.wixstatic.com/media/ac771e_af06d86a7a1f4abd87e52e45f3bcbd96~mv2.png" alt="AlgoHive logo" class="h-8 w-auto">
              <span class="hidden md:inline text-lg font-extrabold tracking-tight text-[var(--ink)]">AlgoHive</span>
            </a>
            <span class="hidden sm:inline h-6 w-px bg-black/10 mx-1"></span>
            <a href="#who" class="px-3 py-2 rounded-full text-sm font-medium text-[var(--ink)] hover:bg-black/5 transition-colors">Who We Are</a>
            <a href="#openstrategies" class="px-3 py-2 rounded-full text-sm font-medium text-[var(--ink)] hover:bg-black/5 transition-colors">How We Work</a>
            <a href="#pricing" class="hidden sm:inline px-3 py-2 rounded-full text-sm font-medium text-[var(--ink)] hover:bg-black/5 transition-colors">Pricing</a>
            <a href="#faqs" class="hidden sm:inline px-3 py-2 rounded-full text-sm font-medium text-[var(--ink)] hover:bg-black/5 transition-colors">FAQs</a>
          </div>
                    <div class="flex items-center gap-2">
            <a href="#demo" class="btn-shine inline-flex items-center gap-2 rounded-full bg-[var(--olive)] px-4 py-2 text-sm font-semibold text-white hover:bg-[var(--olive-700)] transition-colors">Login</a>
            <a href="#openstrategies" class="hidden sm:inline-flex items-center gap-2 rounded-full border border-black/15 px-4 py-2 text-sm font-semibold text-[var(--ink)] hover:bg-black/5 transition-colors">View Strategies</a>
          </div>
        </nav>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center grow py-12 lg:py-24">
                <div class="lg:col-span-6 hero-left">
          <span class="inline-flex items-center gap-2 rounded-full border border-[var(--border-color)] bg-black/[0.03] px-3 py-1 text-xs text-black/60">
            <span class="inline-block h-2 w-2 rounded-full bg-[var(--olive)] animate-pulse"></span>
            Beta Now Live
          </span>
          <h1 class="mt-5 text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight text-[var(--ink)]">
            Elevate your investment portfolio with <span class="text-[var(--olive)]">AlgoHive</span>
          </h1>
          <p class="mt-5 text-lg text-[var(--muted)] max-w-xl">
            Ready-made investment strategies, managed like funds. <span class="highlight">Built to grow your wealth, not fees</span>.
          </p>
          <div class="mt-8 flex flex-wrap items-center gap-4">
            <a href="#signup" class="btn-shine inline-flex items-center gap-2 rounded-xl bg-[var(--olive)] px-6 py-3 font-semibold text-white hover:bg-[var(--olive-700)] transition-colors">
              Get Started
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5"><path d="M13.5 4.5 21 12l-7.5 7.5M21 12H3"/></svg>
            </a>
          </div>
        </div>

                <div class="lg:col-span-6 hero-right relative rounded-3xl border border-[var(--border-color)] bg-gradient-to-b from-white/70 to-slate-50/70 p-2 shadow-[0_6px_24px_rgba(0,0,0,0.06)]">
          <div class="relative overflow-hidden rounded-2xl bg-white/60 backdrop-blur-md">
            <img src="https://static.wixstatic.com/media/ac771e_4647dc50bd7e4ab79b46054e1dc3c5d8~mv2.png" alt="Investor" class="h-[420px] md:h-[460px] lg:h-[520px] xl:h-[560px] w-full object-cover"/>
            <div class="absolute inset-0 bg-gradient-to-tr from-white/60 via-transparent to-transparent"></div>

                        <div class="absolute bottom-4 left-4 right-4 grid grid-cols-3 gap-3">
              <div class="metric-card glass rounded-xl p-3 shadow-sm ring-1 ring-white/30 hover:bg-[var(--olive)] hover:text-white hover:ring-white/50 transition-all duration-200">
                <p class="text-xs text-[var(--muted)] transition-colors duration-200">Capital Managed</p>
                <p class="text-lg font-semibold text-[var(--ink)] transition-colors duration-200">R75mn</p>
              </div>
              <div class="metric-card glass rounded-xl p-3 shadow-sm ring-1 ring-white/30 hover:bg-[var(--olive)] hover:text-white hover:ring-white/50 transition-all duration-200">
                <p class="text-xs text-[var(--muted)] transition-colors duration-200">Avg. return</p>
                <p class="text-lg font-semibold text-[var(--ink)] transition-colors duration-200">13%</p>
              </div>
              <div class="metric-card glass rounded-xl p-3 shadow-sm ring-1 ring-white/30 hover:bg-[var(--olive)] hover:text-white hover:ring-white/50 transition-all duration-200">
                <p class="text-xs text-[var(--muted)] transition-colors duration-200">Total Strategies</p>
                <p class="text-lg font-semibold text-[var(--ink)] transition-colors duration-200">25</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

    <section id="ticker" aria-label="Markets Ticker" class="my-12 lg:my-16">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="tv-ticker glass rounded-full border border-[var(--border-color)] shadow-lg overflow-hidden">
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget"></div>
          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
          {
            "symbols": [
              { "proName": "FOREXCOM:SPXUSD", "title": "S&P 500" },
              { "proName": "FOREXCOM:NSXUSD", "title": "US 100" },
              { "proName": "FX_IDC:EURUSD", "title": "EUR/USD" },
              { "proName": "BITSTAMP:BTCUSD", "title": "Bitcoin" },
              { "proName": "BITSTAMP:ETHUSD", "title": "Ethereum" }
            ],
            "colorTheme": "light",
            "isTransparent": true,
            "displayMode": "adaptive",
            "showSymbolLogo": true,
            "locale": "en"
          }
          </script>
        </div>
      </div>
    </div>
  </section>
---
<section id="strategies" class="py-16 lg:py-20">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="max-w-3xl">
      <h2 class="mt-0 text-4xl sm:text-5xl font-extrabold tracking-tight text-[var(--ink)]">
        Build your portfolio with our <span class="text-[var(--olive)]">managed</span> strategies.
      </h2>
      <p class="mt-3 text-base sm:text-lg text-[var(--muted)]">
        Allocate to strategies that suit your goal and risk appetite. <span class="highlight">No AUM fees — we win when you do.</span>
      </p>
    </div>

        <div id="strategyBar" class="mt-8 flex flex-wrap items-center gap-2">
      <div id="strategyBtns" class="flex flex-wrap items-center gap-2"></div>
      <div class="ml-auto inline-flex items-center gap-1 rounded-full border border-[var(--border-color)] bg-white p-1">
        <button class="prd px-3 py-1.5 rounded-full text-xs font-medium text-[var(--ink)] hover:bg-black/5 transition-colors" data-period="3M">3M</button>
        <button class="prd px-3 py-1.5 rounded-full text-xs font-medium text-[var(--ink)] hover:bg-black/5 transition-colors" data-period="6M">6M</button>
        <button class="prd px-3 py-1.5 rounded-full text-xs font-medium text-[var(--ink)] hover:bg-black/5 transition-colors" data-period="YTD">YTD</button>
        <button class="prd px-3 py-1.5 rounded-full text-xs font-medium text-[var(--ink)] hover:bg-black/5 transition-colors" data-period="ALL">All</button>
      </div>
    </div>

        <div class="relative mt-10">
      <article id="leftCard" class="swap-in rounded-3xl border border-[var(--border-color)] bg-gradient-to-b from-white to-slate-50 p-6 shadow-[0_6px_24px_rgba(0,0,0,0.06)]">
                <div class="flex flex-wrap items-center justify-between gap-3 mb-4">
          <div class="min-w-0">
            <div class="flex items-center gap-2 text-xs text-slate-500">
              <span id="period">All time</span>
            </div>
            <h3 id="stratName" class="text-[28px] leading-tight font-semibold truncate">—</h3>
            <div class="flex flex-wrap items-center gap-2 mt-1 text-sm text-slate-600">
              <span id="provider">—</span><span>•</span>
              <span id="since">Live since —</span><span>•</span>
              <span id="currency">—</span>
              <span class="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] bg-amber-50 text-amber-700" id="risk">Risk —</span>
              <span class="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] bg-emerald-50 text-emerald-700" id="aum">AUM —</span>
            </div>
          </div>
          <div class="flex items-center gap-3 text-xs">
            <span class="inline-flex items-center gap-2"><span class="inline-block h-2 w-2 rounded-full bg-slate-900"></span> Portfolio</span>
            <span class="inline-flex items-center gap-2"><span class="inline-block h-2 w-2 rounded-full" style="background:#7e8d52"></span> Benchmark</span>
          </div>
        </div>

                <div class="grid grid-cols-1 lg:grid-cols-12 gap-5">
                    <div class="lg:col-span-8 xl:col-span-9">
            <div class="flex items-center justify-between gap-3 mb-3">
              <div class="flex items-center gap-2">
                <div class="text-2xl font-semibold" id="eqValue">—</div>
                <span id="eqDelta" class="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] bg-green-50 text-green-700">+0.0%</span>
              </div>
              <div class="text-xs text-slate-500">* return vs period start</div>
            </div>

            <div class="relative w-full h-[420px] overflow-hidden rounded-2xl border bg-white">
              <svg id="equitySvg" viewBox="0 0 900 420" class="w-full h-full">
                <defs>
                  <linearGradient id="eqLine" x1="0" y1="0" x2="0" y2="1">
                    <stop offset="0%" stop-color="#7e8d52" stop-opacity="1"/>
                    <stop offset="100%" stop-color="#7e8d52" stop-opacity="0.15"/>
                  </linearGradient>
                </defs>
                <g id="eqAxes"></g>
                <path id="equityFill" d="" fill="url(#eqLine)" opacity="0.18"></path>
                <path id="equityLine" d="" fill="none" stroke="#7e8d52" stroke-width="2.5" stroke-linecap="round"></path>
              </svg>
            </div>
          </div>

                    <div class="lg:col-span-4 xl:col-span-3">
            <div id="eqMetrics" class="grid grid-cols-2 gap-3 text-sm">
              <div class="p-3 border rounded-xl"><div class="text-slate-500 text-xs">CAGR</div><div id="mCagr" class="font-semibold">—</div></div>
              <div class="p-3 border rounded-xl"><div class="text-slate-500 text-xs">Volatility (ann.)</div><div id="mVol" class="font-semibold">—</div></div>
              <div class="p-3 border rounded-xl"><div class="text-slate-500 text-xs">Sharpe</div><div id="mSharpe" class="font-semibold">—</div></div>
              <div class="p-3 border rounded-xl"><div class="text-slate-500 text-xs">Max Drawdown</div><div id="mDD" class="font-semibold">—</div></div>
              <div class="p-3 border rounded-xl"><div class="text-slate-500 text-xs">Win Rate</div><div id="mWin" class="font-semibold">—</div></div>
              <div class="p-3 border rounded-xl"><div class="text-slate-500 text-xs">Avg Monthly</div><div id="mAvg" class="font-semibold">—</div></div>
            </div>

            <p id="stratDesc" class="mt-3 text-[12px] leading-5 text-slate-700">—</p>
            <a id="stratLink" href="#strategy" class="mt-3 inline-flex items-center gap-2 rounded-xl border border-black/15 px-4 py-2 text-[var(--ink)] text-sm font-semibold hover:bg-black/5 transition-colors">
              View Details
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M13.5 4.5 21 12l-7.5 7.5M21 12H3"/></svg>
            </a>
          </div>
        </div>
      </article>
    </div>

    <p class="mt-8 text-xs text-black/50">
      Strategy stats are illustrative. Performance isn’t guaranteed. Fees apply to returns, <span class="highlight">not AUM</span>.
    </p>
  </div>

  <script>
    (function(){
      const $  = (s)=>document.querySelector(s);
      const $$ = (s)=>document.querySelectorAll(s);
      const pct = (n,dp=1)=> (n>=0?'+':'') + n.toFixed(dp) + '%';
      const monthFmt = new Intl.DateTimeFormat('en-GB', { month:'short', year:'2-digit' });

      // Build month sequence from YYYY-MM
      function genMonths(startYYYYMM, n){
        const [y,m] = startYYYYMM.split('-').map(Number);
        const out = [];
        for (let i=0;i<n;i++) out.push(new Date(y, m-1+i, 1));
        return out;
      }

      // Choose up to maxLabels evenly spaced indices (always include first and last)
      function pickLabelIdx(n, maxLabels=6){
        if (n<=1) return [0];
        const step = Math.max(1, Math.round((n-1)/(maxLabels-1)));
        const idxs = [];
        for (let i=0; i<n; i+=step) idxs.push(i);
        if (idxs[idxs.length-1] !== n-1) idxs.push(n-1);
        return idxs;
      }

      // Nice padded extent including zero, rounded to 5%
      function niceExtent(minV, maxV){
        if (minV===maxV){ minV-=1; maxV+=1; }
        const span = maxV - minV;
        const pad = Math.max(5, span*0.12);
        let lo = Math.floor((Math.min(0, minV - pad))/5)*5;
        let hi = Math.ceil((Math.max(0, maxV + pad))/5)*5;
        if (hi === lo) { hi = lo + 5; }
        return [lo, hi];
      }

      const STRATEGIES = [
        { asset:"Equities", name:"Trend Alpha — Indices", provider:"AlgoHive Quant", since:"2023-02", sinceMonth:"2023-02",
          currency:"USD", risk:"Moderate", aum:"R12.4m",
          cagr:"15.4%", vol:"11.0%", sharpe:"1.12", dd:"8.4%", win:"57%", avg:"+1.2%",
          desc:"Systematic trend-following on major equity indices with dynamic risk scaling and volatility targeting.",
          link:"#details-trend-alpha",
          equity:[100,102,101,104,107,110,108,112,115,118,117,121,125,128,127,130,133,137,139,142,145,147,150,154]
        },
        { asset:"FX", name:"FX Mean-Revert — Majors", provider:"AlgoHive Quant", since:"2022-11", sinceMonth:"2022-11",
          currency:"USD", risk:"Low–Mod", aum:"R8.0m",
          cagr:"11.0%", vol:"8.2%", sharpe:"1.35", dd:"6.1%", win:"62%", avg:"+0.9%",
          desc:"Short-term mean reversion across G10 FX pairs with tight risk controls and overnight carry filters.",
          link:"#details-fx-mean",
          equity:[100,99,101,103,102,104,105,106,107,109,110,111,112,113,114,116,117,118,120,121,123,124,125,127]
        },
        { asset:"Crypto", name:"Crypto Carry — BTC/ETH", provider:"AlgoHive Quant", since:"2023-04", sinceMonth:"2023-04",
          currency:"USD", risk:"Moderate", aum:"R6.2m",
          cagr:"18.6%", vol:"14.2%", sharpe:"1.08", dd:"11.3%", win:"58%", avg:"+1.4%",
          desc:"Carry + momentum blend on BTC/ETH with downside guards around vol spikes and funding shifts.",
          link:"#details-crypto-carry",
          equity:[100,101,102,104,103,106,109,111,110,114,118,120,119,121,125,128,130,129,132,136,139,141,143,147]
        },
        { asset:"Futures", name:"Breakout Macro — Futures", provider:"AlgoHive Quant", since:"2022-06", sinceMonth:"2022-06",
          currency:"USD", risk:"Moderate–High", aum:"R10.1m",
          cagr:"16.1%", vol:"12.5%", sharpe:"1.20", dd:"9.2%", win:"55%", avg:"+1.1%",
          desc:"Multi-asset futures breakout with cross-sectional signals across rates, equity, FX and commodities.",
          link:"#details-breakout-macro",
          equity:[100,101,103,105,108,110,113,111,114,118,120,123,122,125,129,132,131,134,138,141,143,145,148,151]
        },
        { asset:"Commodities", name:"Commod Pairs — Spreads", provider:"AlgoHive Quant", since:"2021-12", sinceMonth:"2021-12",
          currency:"USD", risk:"Low–Mod", aum:"R5.6m",
          cagr:"8.4%", vol:"6.0%", sharpe:"1.10", dd:"5.4%", win:"60%", avg:"+0.6%",
          desc:"Market-neutral commodity spread trades exploiting seasonal and relative-value dislocations.",
          link:"#details-commod-spreads",
          equity:[100,100.5,101,101.4,101.8,102.3,102.9,103.2,103.9,104.4,104.8,105.2,105.9,106.5,107.1,107.6,108.0,108.8,109.3,109.9,110.4,111.0,111.5,112.0]
        }
      ];

      let idx = 0;
      let selectedPeriod = 'ALL';

      const els = {
        stratName: $('#stratName'), provider: $('#provider'), since: $('#since'), currency: $('#currency'),
        risk: $('#risk'), aum: $('#aum'), period: $('#period'),
        eqValue: $('#eqValue'), eqDelta: $('#eqDelta'),
        mCagr: $('#mCagr'), mVol: $('#mVol'), mSharpe: $('#mSharpe'), mDD: $('#mDD'), mWin: $('#mWin'), mAvg: $('#mAvg'),
        axes: $('#eqAxes'), line: $('#equityLine'), fill: $('#equityFill'),
        stratDesc: $('#stratDesc'), stratLink: $('#stratLink'),
        leftCard: $('#leftCard'), strategyBtns: $('#strategyBtns')
      };

      // Build strategy selector buttons (names)
      function renderStrategyButtons(){
        els.strategyBtns.innerHTML = '';
        STRATEGIES.forEach((s, i)=>{
          const b = document.createElement('button');
          b.type = 'button';
          b.dataset.index = i;
          b.className = 'strat px-3 py-1.5 rounded-full border border-black/10 bg-white text-sm font-medium text-[var(--ink)] hover:bg-black/5';
          b.textContent = s.name;
          b.addEventListener('click', ()=>{ idx = i; render(); });
          els.strategyBtns.appendChild(b);
        });
      }

      function markActive(){
        $$('.strat').forEach((b,k)=> b.classList.toggle('tag-active', k===idx));
        $$('.prd').forEach(b=> b.classList.toggle('prd-active', b.dataset.period===selectedPeriod));
      }

      // Filter by period (equity values + dates)
      function filterByPeriod(vals, dts){
        const n = vals.length;
        const now = new Date();
        let startIdx = 0;

        if (selectedPeriod === '3M') startIdx = Math.max(0, n-3);
        else if (selectedPeriod === '6M') startIdx = Math.max(0, n-6);
        else if (selectedPeriod === 'YTD') {
          const jan1 = new Date(now.getFullYear(), 0, 1);
          startIdx = dts.findIndex(d => d >= jan1);
          if (startIdx < 0) startIdx = 0;
        }
        return { series: vals.slice(startIdx), dates: dts.slice(startIdx) };
      }

      // Draw axes + series, with proper ticks
      function drawChart(equityVals, dates){
        // convert to return % vs first point
        const base = equityVals[0] || 1;
        const rets = equityVals.map(v => ((v/base)-1)*100);

        const W=900, H=420, P={top:16,right:24,bottom:40,left:52};
        const innerW = W - P.left - P.right;
        const innerH = H - P.top - P.bottom;

        // extents
        const rawMin = Math.min(...rets), rawMax = Math.max(...rets);
        const [yMin, yMax] = niceExtent(rawMin, rawMax);

        // scales
        const sx = (i)=> P.left + (i*(innerW))/Math.max(1,(rets.length-1));
        const sy = (r)=> P.top + (yMax - r)*(innerH)/(yMax - yMin || 1);

        // clear axes group
        els.axes.innerHTML = '';

        // y ticks (5)
        const yTicks = 5;
        for (let t=0;t<=yTicks;t++){
          const val = yMin + (t*(yMax-yMin))/yTicks;
          const y = sy(val);
          const ln = document.createElementNS('http://www.w3.org/2000/svg','line');
          ln.setAttribute('x1', P.left); ln.setAttribute('x2', W - P.right);
          ln.setAttribute('y1', y);      ln.setAttribute('y2', y);
          ln.setAttribute('stroke', 'rgba(0,0,0,0.08)');
          ln.setAttribute('stroke-dasharray', '4 4');
          els.axes.appendChild(ln);

          const lab = document.createElementNS('http://www.w3.org/2000/svg','text');
          lab.setAttribute('x', P.left - 8);
          lab.setAttribute('y', y + 4);
          lab.setAttribute('text-anchor', 'end');
          lab.setAttribute('font-size', '10');
          lab.setAttribute('fill', '#64748b');
          lab.textContent = pct(val,0);
          els.axes.appendChild(lab);
        }

        // zero line (highlight)
        if (yMin < 0 && yMax > 0){
          const y0 = sy(0);
          const zl = document.createElementNS('http://www.w3.org/2000/svg','line');
          zl.setAttribute('x1', P.left); zl.setAttribute('x2', W - P.right);
          zl.setAttribute('y1', y0);     zl.setAttribute('y2', y0);
          zl.setAttribute('stroke', 'rgba(0,0,0,0.25)');
          zl.setAttribute('stroke-width', '1');
          els.axes.appendChild(zl);
        }

        // x axis baseline
        const xb = document.createElementNS('http://www.w3.org/2000/svg','line');
        xb.setAttribute('x1', P.left); xb.setAttribute('x2', W - P.right);
        xb.setAttribute('y1', H - P.bottom); xb.setAttribute('y2', H - P.bottom);
        xb.setAttribute('stroke', 'rgba(0,0,0,0.12)');
        els.axes.appendChild(xb);

        // x ticks (evenly spaced up to 6)
        const idxs = pickLabelIdx(dates.length, 6);
        idxs.forEach((i, k)=>{
          const x = sx(i);
          const vl = document.createElementNS('http://www.w3.org/2000/svg','line');
          vl.setAttribute('x1', x); vl.setAttribute('x2', x);
          vl.setAttribute('y1', P.top); vl.setAttribute('y2', H - P.bottom);
          vl.setAttribute('stroke', 'rgba(0,0,0,0.06)');
          els.axes.appendChild(vl);

          const lab = document.createElementNS('http://www.w3.org/2000/svg','text');
          lab.setAttribute('x', x);
          lab.setAttribute('y', H - P.bottom + 14);
          lab.setAttribute('text-anchor', k===0?'start':(k===idxs.length-1?'end':'middle'));
          lab.setAttribute('font-size', '10');
          lab.setAttribute('fill', '#64748b');
          lab.textContent = monthFmt.format(dates[i]);
          els.axes.appendChild(lab);
        });

        // series path
        const d = 'M ' + rets.map((r,i)=>`${sx(i)},${sy(r)}`).join(' L ');
        els.line.setAttribute('d', d);
        const fillD = `${d} L ${sx(rets.length-1)},${H - P.bottom} L ${sx(0)},${H - P.bottom} Z`;
        els.fill.setAttribute('d', fillD);

        // headline numbers
        const last = rets.at(-1);
        const growthX = (last/100) + 1;
        els.eqValue.textContent = `Growth: ${growthX.toFixed(2)}x`;
        els.eqDelta.textContent = pct(last);
        els.eqDelta.classList.toggle('bg-green-50', last>=0);
        els.eqDelta.classList.toggle('text-green-700', last>=0);
        els.eqDelta.classList.toggle('bg-rose-50', last<0);
        els.eqDelta.classList.toggle('text-rose-700', last<0);
      }

      function render(){
        const s = STRATEGIES[idx];
        const allDates = genMonths(s.sinceMonth, s.equity.length);
        const { series, dates } = filterByPeriod(s.equity, allDates);

        els.stratName.textContent = s.name;
        els.provider.textContent  = s.provider;
        els.since.textContent     = `Live since ${s.since}`;
        els.currency.textContent  = s.currency;
        els.risk.textContent      = `Risk ${s.risk}`;
        els.aum.textContent       = `AUM ${s.aum}`;

        els.mCagr.textContent   = s.cagr;
        els.mVol.textContent    = s.vol;
        els.mSharpe.textContent = s.sharpe;
        els.mDD.textContent     = s.dd;
        els.mWin.textContent    = s.win;
        els.mAvg.textContent    = s.avg;

        els.stratDesc.textContent = s.desc;
        els.stratLink.setAttribute('href', s.link);

        els.period.textContent = selectedPeriod==='ALL' ? 'All time' : selectedPeriod;

        drawChart(series, dates);

        // animate + active classes
        els.leftCard.classList.remove('swap-in'); void els.leftCard.offsetWidth; els.leftCard.classList.add('swap-in');
        markActive();
      }

      // period handlers
      $$('.prd').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          selectedPeriod = btn.dataset.period || 'ALL';
          render();
        });
      });

      // init
      renderStrategyButtons();
      selectedPeriod = 'ALL';
      render();
    })();
  </script>
</section>

---

<section id="lending" class="relative py-16 lg:py-20">
    <div class="pointer-events-none absolute inset-0 -top-20 -z-10 bg-[radial-gradient(ellipse_at_center,rgba(107,124,75,0.1),transparent_70%)] opacity-70"></div>

  <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="max-w-3xl">
      <h2 class="text-3xl sm:text-4xl font-extrabold tracking-tight text-[var(--ink)]">
        Portfolio-Backed <span class="text-[var(--olive)]">Lending</span>
      </h2>
      <p class="mt-3 text-[15px] sm:text-lg text-[var(--muted)]">
        Leverage your investments to access smarter credit. Pledge your portfolio to unlock lower-cost borrowing without selling your holdings, reducing tax impact and staying invested in market opportunities. Pay less on credit while keeping your growth potential intact.
      </p>
    </div>

        <div class="mt-10 grid grid-cols-1 lg:grid-cols-12 gap-6">
            <article class="lg:col-span-7 rounded-3xl border border-[var(--border-color)] bg-gradient-to-b from-white to-slate-50 p-6 shadow-[0_6px_24px_rgba(0,0,0,0.06)]">
        <div class="flex items-center justify-between">
          <div>
            <span class="inline-flex items-center gap-2 rounded-full border border-[var(--border-color)] bg-black/[0.03] px-3 py-1 text-xs text-black/60">
              Portfolio-backed credit
            </span>
            <h3 class="mt-2 text-xl font-bold text-[var(--ink)]">Estimate your borrowing power</h3>
          </div>
          <div class="hidden sm:flex items-center gap-2 text-xs text-slate-600">
            <span class="inline-flex items-center gap-1 rounded-full bg-emerald-50 text-emerald-700 px-2 py-0.5 border border-emerald-200">Stay invested</span>
            <span class="inline-flex items-center gap-1 rounded-full bg-amber-50 text-amber-700 px-2 py-0.5 border border-amber-200">No forced selling</span>
          </div>
        </div>

                <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <label class="block">
            <span class="text-xs text-slate-600">Portfolio value (ZAR)</span>
            <div class="mt-1 flex items-center gap-2 rounded-xl border border-[var(--border-color)] bg-white px-3 py-2">
              <span class="text-slate-400">R</span>
              <input id="pv" type="number" min="10000" step="1000" value="250000"
                     class="w-full outline-none text-[var(--ink)] bg-transparent" />
            </div>
          </label>

                    <label class="block">
            <span class="text-xs text-slate-600">Term</span>
            <select id="term" class="mt-1 w-full rounded-xl border border-[var(--border-color)] bg-white px-3 py-2 text-[var(--ink)]">
              <option value="6">6 months</option>
              <option value="12" selected>12 months</option>
              <option value="24">24 months</option>
              <option value="36">36 months</option>
            </select>
          </label>

                    <div class="sm:col-span-2">
            <div class="flex items-center justify-between">
              <span class="text-xs text-slate-600">Loan-to-Value (LTV)</span>
              <span id="ltvLabel" class="text-xs font-medium text-[var(--ink)]">40%</span>
            </div>
            <input id="ltv" type="range" min="0" max="60" step="1" value="40" class="mt-2 w-full h-1 bg-black/10 rounded-lg appearance-none cursor-pointer" />
          </div>

                    <div class="sm:col-span-2 rounded-xl p-4 bg-white/70 border border-[var(--border-color)]">
            <div class="flex items-center justify-between">
              <span class="text-sm font-medium text-slate-600">Est. Borrowing Power</span>
              <span id="borrowingPower" class="text-lg font-bold text-[var(--olive)]">R0</span>
            </div>
          </div>

        </div>
      </article>

            <div class="lg:col-span-5 rounded-3xl p-6 bg-gradient-to-b from-white to-slate-50 border border-[var(--border-color)] shadow-[0_6px_24px_rgba(0,0,0,0.06)]">
        <div class="text-sm font-semibold text-[var(--ink)] mb-4">Key Benefits</div>
        <div class="space-y-4">
          <div class="flex items-start gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6 text-emerald-500 flex-shrink-0 mt-1"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z" clip-rule="evenodd" /></svg>
            <div>
              <h4 class="font-semibold text-[var(--ink)]">Stay Invested</h4>
              <p class="mt-1 text-sm text-[var(--muted)]">Don't sell your assets to get a loan. Keep your portfolio intact and your capital working for you.</p>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6 text-amber-500 flex-shrink-0 mt-1"><path d="M11.47 3.84a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.06l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 0 0 1.06 1.06l8.69-8.69Z" /><path d="M12 5.432l8.159 8.159c.03.03.06.058.091.086c.07.068.136.138.203.207a1.652 1.652 0 0 1 .129.125.75.75 0 0 0 .584 1.135 1.5 1.5 0 0 1-1.464-.99l-.337-.842a.75.75 0 0 0-.693-.493H8.375a.75.75 0 0 0-.693.493l-.338.842a1.5 1.5 0 0 1-1.464.99.75.75 0 0 0 .584-1.135 1.652 1.652 0 0 1 .129-.125.688.688 0 0 1 .203-.207c.03-.028.06-.056.091-.086L12 5.432Z" /></svg>
            <div>
              <h4 class="font-semibold text-[var(--ink)]">Tax Efficiency</h4>
              <p class="mt-1 text-sm text-[var(--muted)]">Borrowing against your portfolio avoids capital gains tax that would be triggered by selling your assets.</p>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6 text-indigo-500 flex-shrink-0 mt-1"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.698 4.698a.75.75 0 1 1-1.06 1.06l-4.698-4.698A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd" /></svg>
            <div>
              <h4 class="font-semibold text-[var(--ink)]">Flexible Access</h4>
              <p class="mt-1 text-sm text-[var(--muted)]">Use the credit line for any need, from personal expenses to new investment opportunities.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // All the existing javascript logic is unchanged
  (function(){
      const $  = (s)=>document.querySelector(s);
      const $$ = (s)=>document.querySelectorAll(s);
      const pct = (n,dp=1)=> (n>=0?'+':'') + n.toFixed(dp) + '%';
      const monthFmt = new Intl.DateTimeFormat('en-GB', { month:'short', year:'2-digit' });

      function genMonths(startYYYYMM, n){
        const [y,m] = startYYYYMM.split('-').map(Number);
        const out = [];
        for (let i=0;i<n;i++) out.push(new Date(y, m-1+i, 1));
        return out;
      }

      function pickLabelIdx(n, maxLabels=6){
        if (n<=1) return [0];
        const step = Math.max(1, Math.round((n-1)/(maxLabels-1)));
        const idxs = [];
        for (let i=0; i<n; i+=step) idxs.push(i);
        if (idxs[idxs.length-1] !== n-1) idxs.push(n-1);
        return idxs;
      }

      function niceExtent(minV, maxV){
        if (minV===maxV){ minV-=1; maxV+=1; }
        const span = maxV - minV;
        const pad = Math.max(5, span*0.12);
        let lo = Math.floor((Math.min(0, minV - pad))/5)*5;
        let hi = Math.ceil((Math.max(0, maxV + pad))/5)*5;
        if (hi === lo) { hi = lo + 5; }
        return [lo, hi];
      }

      const STRATEGIES = [
        { asset:"Equities", name:"Trend Alpha — Indices", provider:"AlgoHive Quant", since:"2023-02", sinceMonth:"2023-02",
          currency:"USD", risk:"Moderate", aum:"R12.4m",
          cagr:"15.4%", vol:"11.0%", sharpe:"1.12", dd:"8.4%", win:"57%", avg:"+1.2%",
          desc:"Systematic trend-following on major equity indices with dynamic risk scaling and volatility targeting.",
          link:"#details-trend-alpha",
          equity:[100,102,101,104,107,110,108,112,115,118,117,121,125,128,127,130,133,137,139,142,145,147,150,154]
        },
        { asset:"FX", name:"FX Mean-Revert — Majors", provider:"AlgoHive Quant", since:"2022-11", sinceMonth:"2022-11",
          currency:"USD", risk:"Low–Mod", aum:"R8.0m",
          cagr:"11.0%", vol:"8.2%", sharpe:"1.35", dd:"6.1%", win:"62%", avg:"+0.9%",
          desc:"Short-term mean reversion across G10 FX pairs with tight risk controls and overnight carry filters.",
          link:"#details-fx-mean",
          equity:[100,99,101,103,102,104,105,106,107,109,110,111,112,113,114,116,117,118,120,121,123,124,125,127]
        },
        { asset:"Crypto", name:"Crypto Carry — BTC/ETH", provider:"AlgoHive Quant", since:"2023-04", sinceMonth:"2023-04",
          currency:"USD", risk:"Moderate", aum:"R6.2m",
          cagr:"18.6%", vol:"14.2%", sharpe:"1.08", dd:"11.3%", win:"58%", avg:"+1.4%",
          desc:"Carry + momentum blend on BTC/ETH with downside guards around vol spikes and funding shifts.",
          link:"#details-crypto-carry",
          equity:[100,101,102,104,103,106,109,111,110,114,118,120,119,121,125,128,130,129,132,136,139,141,143,147]
        },
        { asset:"Futures", name:"Breakout Macro — Futures", provider:"AlgoHive Quant", since:"2022-06", sinceMonth:"2022-06",
          currency:"USD", risk:"Moderate–High", aum:"R10.1m",
          cagr:"16.1%", vol:"12.5%", sharpe:"1.20", dd:"9.2%", win:"55%", avg:"+1.1%",
          desc:"Multi-asset futures breakout with cross-sectional signals across rates, equity, FX and commodities.",
          link:"#details-breakout-macro",
          equity:[100,101,103,105,108,110,113,111,114,118,120,123,122,125,129,132,131,134,138,141,143,145,148,151]
        },
        { asset:"Commodities", name:"Commod Pairs — Spreads", provider:"AlgoHive Quant", since:"2021-12", sinceMonth:"2021-12",
          currency:"USD", risk:"Low–Mod", aum:"R5.6m",
          cagr:"8.4%", vol:"6.0%", sharpe:"1.10", dd:"5.4%", win:"60%", avg:"+0.6%",
          desc:"Market-neutral commodity spread trades exploiting seasonal and relative-value dislocations.",
          link:"#details-commod-spreads",
          equity:[100,100.5,101,101.4,101.8,102.3,102.9,103.2,103.9,104.4,104.8,105.2,105.9,106.5,107.1,107.6,108.0,108.8,109.3,109.9,110.4,111.0,111.5,112.0]
        }
      ];

      let idx = 0;
      let selectedPeriod = 'ALL';

      const els = {
        stratName: $('#stratName'), provider: $('#provider'), since: $('#since'), currency: $('#currency'),
        risk: $('#risk'), aum: $('#aum'), period: $('#period'),
        eqValue: $('#eqValue'), eqDelta: $('#eqDelta'),
        mCagr: $('#mCagr'), mVol: $('#mVol'), mSharpe: $('#mSharpe'), mDD: $('#mDD'), mWin: $('#mWin'), mAvg: $('#mAvg'),
        axes: $('#eqAxes'), line: $('#equityLine'), fill: $('#equityFill'),
        stratDesc: $('#stratDesc'), stratLink: $('#stratLink'),
        leftCard: $('#leftCard'), strategyBtns: $('#strategyBtns')
      };

      // Build strategy selector buttons (names)
      function renderStrategyButtons(){
        els.strategyBtns.innerHTML = '';
        STRATEGIES.forEach((s, i)=>{
          const b = document.createElement('button');
          b.type = 'button';
          b.dataset.index = i;
          b.className = 'strat px-3 py-1.5 rounded-full border border-black/10 bg-white text-sm font-medium text-[var(--ink)] hover:bg-black/5';
          b.textContent = s.name;
          b.addEventListener('click', ()=>{ idx = i; render(); });
          els.strategyBtns.appendChild(b);
        });
      }

      function markActive(){
        $$('.strat').forEach((b,k)=> b.classList.toggle('tag-active', k===idx));
        $$('.prd').forEach(b=> b.classList.toggle('prd-active', b.dataset.period===selectedPeriod));
      }

      // Filter by period (equity values + dates)
      function filterByPeriod(vals, dts){
        const n = vals.length;
        const now = new Date();
        let startIdx = 0;

        if (selectedPeriod === '3M') startIdx = Math.max(0, n-3);
        else if (selectedPeriod === '6M') startIdx = Math.max(0, n-6);
        else if (selectedPeriod === 'YTD') {
          const jan1 = new Date(now.getFullYear(), 0, 1);
          startIdx = dts.findIndex(d => d >= jan1);
          if (startIdx < 0) startIdx = 0;
        }
        return { series: vals.slice(startIdx), dates: dts.slice(startIdx) };
      }

      // Draw axes + series, with proper ticks
      function drawChart(equityVals, dates){
        // convert to return % vs first point
        const base = equityVals[0] || 1;
        const rets = equityVals.map(v => ((v/base)-1)*100);

        const W=900, H=420, P={top:16,right:24,bottom:40,left:52};
        const innerW = W - P.left - P.right;
        const innerH = H - P.top - P.bottom;

        // extents
        const rawMin = Math.min(...rets), rawMax = Math.max(...rets);
        const [yMin, yMax] = niceExtent(rawMin, rawMax);

        // scales
        const sx = (i)=> P.left + (i*(innerW))/Math.max(1,(rets.length-1));
        const sy = (r)=> P.top + (yMax - r)*(innerH)/(yMax - yMin || 1);

        // clear axes group
        els.axes.innerHTML = '';

        // y ticks (5)
        const yTicks = 5;
        for (let t=0;t<=yTicks;t++){
          const val = yMin + (t*(yMax-yMin))/yTicks;
          const y = sy(val);
          const ln = document.createElementNS('http://www.w3.org/2000/svg','line');
          ln.setAttribute('x1', P.left); ln.setAttribute('x2', W - P.right);
          ln.setAttribute('y1', y);      ln.setAttribute('y2', y);
          ln.setAttribute('stroke', 'rgba(0,0,0,0.08)');
          ln.setAttribute('stroke-dasharray', '4 4');
          els.axes.appendChild(ln);

          const lab = document.createElementNS('http://www.w3.org/2000/svg','text');
          lab.setAttribute('x', P.left - 8);
          lab.setAttribute('y', y + 4);
          lab.setAttribute('text-anchor', 'end');
          lab.setAttribute('font-size', '10');
          lab.setAttribute('fill', '#64748b');
          lab.textContent = pct(val,0);
          els.axes.appendChild(lab);
        }

        // zero line (highlight)
        if (yMin < 0 && yMax > 0){
          const y0 = sy(0);
          const zl = document.createElementNS('http://www.w3.org/2000/svg','line');
          zl.setAttribute('x1', P.left); zl.setAttribute('x2', W - P.right);
          zl.setAttribute('y1', y0);     zl.setAttribute('y2', y0);
          zl.setAttribute('stroke', 'rgba(0,0,0,0.25)');
          zl.setAttribute('stroke-width', '1');
          els.axes.appendChild(zl);
        }

        // x axis baseline
        const xb = document.createElementNS('http://www.w3.org/2000/svg','line');
        xb.setAttribute('x1', P.left); xb.setAttribute('x2', W - P.right);
        xb.setAttribute('y1', H - P.bottom); xb.setAttribute('y2', H - P.bottom);
        xb.setAttribute('stroke', 'rgba(0,0,0,0.12)');
        els.axes.appendChild(xb);

        // x ticks (evenly spaced up to 6)
        const idxs = pickLabelIdx(dates.length, 6);
        idxs.forEach((i, k)=>{
          const x = sx(i);
          const vl = document.createElementNS('http://www.w3.org/2000/svg','line');
          vl.setAttribute('x1', x); vl.setAttribute('x2', x);
          vl.setAttribute('y1', P.top); vl.setAttribute('y2', H - P.bottom);
          vl.setAttribute('stroke', 'rgba(0,0,0,0.06)');
          els.axes.appendChild(vl);

          const lab = document.createElementNS('http://www.w3.org/2000/svg','text');
          lab.setAttribute('x', x);
          lab.setAttribute('y', H - P.bottom + 14);
          lab.setAttribute('text-anchor', k===0?'start':(k===idxs.length-1?'end':'middle'));
          lab.setAttribute('font-size', '10');
          lab.setAttribute('fill', '#64748b');
          lab.textContent = monthFmt.format(dates[i]);
          els.axes.appendChild(lab);
        });

        // series path
        const d = 'M ' + rets.map((r,i)=>`${sx(i)},${sy(r)}`).join(' L ');
        els.line.setAttribute('d', d);
        const fillD = `${d} L ${sx(rets.length-1)},${H - P.bottom} L ${sx(0)},${H - P.bottom} Z`;
        els.fill.setAttribute('d', fillD);

        // headline numbers
        const last = rets.at(-1);
        const growthX = (last/100) + 1;
        els.eqValue.textContent = `Growth: ${growthX.toFixed(2)}x`;
        els.eqDelta.textContent = pct(last);
        els.eqDelta.classList.toggle('bg-green-50', last>=0);
        els.eqDelta.classList.toggle('text-green-700', last>=0);
        els.eqDelta.classList.toggle('bg-rose-50', last<0);
        els.eqDelta.classList.toggle('text-rose-700', last<0);
      }

      function render(){
        const s = STRATEGIES[idx];
        const allDates = genMonths(s.sinceMonth, s.equity.length);
        const { series, dates } = filterByPeriod(s.equity, allDates);

        els.stratName.textContent = s.name;
        els.provider.textContent  = s.provider;
        els.since.textContent     = `Live since ${s.since}`;
        els.currency.textContent  = s.currency;
        els.risk.textContent      = `Risk ${s.risk}`;
        els.aum.textContent       = `AUM ${s.aum}`;

        els.mCagr.textContent   = s.cagr;
        els.mVol.textContent    = s.vol;
        els.mSharpe.textContent = s.sharpe;
        els.mDD.textContent     = s.dd;
        els.mWin.textContent    = s.win;
        els.mAvg.textContent    = s.avg;

        els.stratDesc.textContent = s.desc;
        els.stratLink.setAttribute('href', s.link);

        els.period.textContent = selectedPeriod==='ALL' ? 'All time' : selectedPeriod;

        drawChart(series, dates);

        // animate + active classes
        els.leftCard.classList.remove('swap-in'); void els.leftCard.offsetWidth; els.leftCard.classList.add('swap-in');
        markActive();
      }

      // period handlers
      $$('.prd').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          selectedPeriod = btn.dataset.period || 'ALL';
          render();
        });
      });

      // init
      renderStrategyButtons();
      selectedPeriod = 'ALL';
      render();
    })();
</script>
<script>
  // Calculator script
  (function(){
    const pvInput = document.getElementById('pv');
    const ltvInput = document.getElementById('ltv');
    const ltvLabel = document.getElementById('ltvLabel');
    const bpOutput = document.getElementById('borrowingPower');

    function updateCalculator() {
      const portfolioValue = parseFloat(pvInput.value) || 0;
      const ltvPercentage = parseFloat(ltvInput.value) || 0;
      const borrowingPower = portfolioValue * (ltvPercentage / 100);

      ltvLabel.textContent = `${ltvPercentage}%`;
      bpOutput.textContent = `R${borrowingPower.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`;
    }

    pvInput.addEventListener('input', updateCalculator);
    ltvInput.addEventListener('input', updateCalculator);
    document.getElementById('term').addEventListener('change', updateCalculator);

    // Initial render
    updateCalculator();
  })();
</script>
</body>
</html>
